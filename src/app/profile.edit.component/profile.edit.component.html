<app-sidebar></app-sidebar>

<div class="container">
    <header class="header">
        <h1>Profile</h1>
        <p>Manage your profile information and settings</p>
    </header>
    <div class="profile-info">
        <div class="user-details">
            <img src="images/user.png" width="100px" alt="User Avatar" class="avatar">
            <div class="user-name">
                <h2>{{`${currentUser?.first_name} ${currentUser?.last_name}`}}</h2>
                <p>{{currentUser?.email}}</p>
                <span class="role">{{currentUser?.role}}</span>
            </div>
        </div>
        <form class="edit-form" [formGroup]="editForm" (ngSubmit)="onSubmit()">
            <div class="form-group">
                <label for="first-name">First Name</label>
                <input type="text" id="first-name" formControlName="first_name">
            </div>
            <div class="form-group">
                <label for="last-name">Last Name</label>
                <input type="text" id="last-name" formControlName="last_name">
            </div>
            <div class="form-group skills">
                <label for="skills">Skills</label>
                <div formArrayName="skills">

                    <div *ngFor="let skill of skills.controls; let i = index" class="skill-item">
                        <input type="text" [formControlName]="i" placeholder="Enter a skill">
                        <button type="button" (click)="removeSkill(i)" class="remove-skill">‚ùå</button>
                    </div>

                </div>
                <button type="button" class="add-skill" (click)="addSkill()">+ Add Skill</button>
            </div>
            <button type="submit" [disabled]="editForm.invalid" class="save-button">Save Changes</button>
        </form>
    </div>
</div>